<script>(()=>{var g="https://leonardocolor.io/?colorKeys=%234c2f92%2C%23000000&base=e2dded&ratios=-1.2%2C-1.12%2C1%2C1.24%2C1.52%2C1.92%2C3%2C4.64%2C6.96%2C8.8%2C11.52&mode=RGB&colorScheme=Purple&colorStops=50%2C75%2C100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900",a,p,d,l,r,u;window.onmessage=e=>{console.log("UI onmessage",e.data.pluginMessage);let o=e.data.pluginMessage;o.type==="cacheGetResponse"&&(l.value=o.payload||g)};document.addEventListener("DOMContentLoaded",e=>{console.log("DOMContentLoaded"),a=document.querySelector("#colorScheme"),p=document.querySelector("#colorStops"),l=document.querySelector("#textbox"),r=document.querySelector("#mode"),d=document.querySelector("#btn-generate"),u=document.querySelector("#errors"),parent.postMessage({pluginMessage:{type:"cacheGet"}},"*"),d.addEventListener("click",()=>{console.log("generate");let o=a.value,t=p.value,n=l.value,c=r.options[r.selectedIndex].value;parent.postMessage({pluginMessage:{type:"cacheSet",payload:n}},"*");let s=C(n);c!=="NONE"&&(s.colorSpace=c),s.colorScheme===void 0&&(s.colorScheme=o),s.colorStops===void 0&&(s.colorStops=t.split(",").map(i=>i.trim())),s.sourceString=n,parent.postMessage({pluginMessage:{type:"generate",payload:s}},"*")})},{once:!0});var m=e=>{u.textContent=e},C=e=>{var t;try{e=e.replace("https://leonardocolor.io/?",""),e=e[0]==="?"?e.substr(1):e}catch(n){m("Invalid input");return}let o=S(e);return o.inputRatios=o.ratios.split(","),o.colorStops=(t=o.colorStops)==null?void 0:t.split(","),o.colorKeys=o.colorKeys.indexOf(",")>-1?o.colorKeys.split(","):[o.colorKeys],o.base=y(o.base),o.baseColor=o.base,o.colorSpace=o.mode,console.log("$params:",o),o},S=e=>{let o={},t=e.split("&");for(let c=0;c<t.length;c++){var n=t[c].split("=");o[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return o},y=e=>(e.startsWith("#")!==!0&&e.length===3&&(e="#"+e),e.startsWith("#")!==!0&&e.length===6&&(e="#"+e),e);})();
</script><link rel="stylesheet" href="https://static.figma.com/api/figma-extension-api-0.0.1.css"><style>body{font-family:-apple-system,sans-serif!important}.center{display:flex;flex-direction:row;justify-content:center}.leologo{display:block;width:60px}</style><div class="center" style="padding:20px"><img src="https://leonardocolor.io/Leonardo_Logo_sm.b48b194c.svg" class="leologo"/></div><p>Name:<br/><input style="width:100%;padding:4px" id="colorScheme" value="Purple" placeholder="Purple"/></p><p>Stops<br/><em>Please ensure same amount as Ratios in the URL</em><br/><input readonly="readonly" disabled="disabled" style="width:100%;padding:4px" id="colorStops" value="50, 75, 100, 200, 300, 400, 500, 600, 700, 800, 900" placeholder="50, 75, 100, 200, 300, 400, 500, 600, 700, 800, 900"/></p><p>Paste leonardocolor.io string: <textarea id="textbox" rows="9" style="width:100%;padding:4px" placeholder="leonardocolor.io/?..." value=""></textarea></p><p></p><p>(Optional) Set ColorSpace interpolation mode<br/><select id="mode" style="width:100%;padding:4px"><option value="NONE">-</option><option value="RGB">RGB</option><option value="CAM02">CIECAM02</option><option value="LCH">Lch</option><option value="LAB">Lab</option><option value="HSL">HSL</option><option value="HSLuv">HSLuv</option><option value="HSV">HSV</option></select></p><b id="errors"></b><div class="center"><p><button class="primary" id="btn-generate">Generate</button></p></div>