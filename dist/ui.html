<script>(()=>{var m="Scheme Name",g="https://leonardocolor.io/?colorKeys=%234c2f92%2C%23000000&base=e2dded&ratios=-1.2%2C-1.12%2C1%2C1.24%2C1.52%2C1.92%2C3%2C4.64%2C6.96%2C8.8%2C11.52&mode=RGB&colorScheme=Purple&colorStops=50%2C75%2C100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900",l,p,d,r,a,u;window.onmessage=o=>{var t,n;console.log("UI onmessage",o.data.pluginMessage);let e=o.data.pluginMessage;e.type==="cacheGetResponse"&&(r.value=((t=e.payload)==null?void 0:t.url)||g,l.value=((n=e.payload)==null?void 0:n.name)||m)};document.addEventListener("DOMContentLoaded",o=>{console.log("DOMContentLoaded"),l=document.querySelector("#colorScheme"),p=document.querySelector("#colorStops"),r=document.querySelector("#textbox"),a=document.querySelector("#mode"),d=document.querySelector("#btn-generate"),u=document.querySelector("#errors"),parent.postMessage({pluginMessage:{type:"cacheGet"}},"*"),d.addEventListener("click",()=>{console.log("generate");let e=l.value,t=p.value,n=r.value,c=a.options[a.selectedIndex].value;parent.postMessage({pluginMessage:{type:"cacheSet",payload:{url:n,name:e}}},"*");let s=S(n);c!=="NONE"&&(s.colorSpace=c),s.colorScheme===void 0&&(s.colorScheme=e),s.colorStops===void 0&&(s.colorStops=t.split(",").map(i=>i.trim())),s.sourceString=n,parent.postMessage({pluginMessage:{type:"generate",payload:s}},"*")})},{once:!0});var C=o=>{u.textContent=o},S=o=>{var t;try{o=o.replace("https://leonardocolor.io/?",""),o=o[0]==="?"?o.substr(1):o}catch(n){C("Invalid input");return}let e=y(o);return e.inputRatios=e.ratios.split(","),e.colorStops=(t=e.colorStops)==null?void 0:t.split(","),e.colorKeys=e.colorKeys.indexOf(",")>-1?e.colorKeys.split(","):[e.colorKeys],e.base=h(e.base),e.baseColor=e.base,e.colorSpace=e.mode,console.log("$params:",e),e},y=o=>{let e={},t=o.split("&");for(let c=0;c<t.length;c++){var n=t[c].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return e},h=o=>(o.startsWith("#")!==!0&&o.length===3&&(o="#"+o),o.startsWith("#")!==!0&&o.length===6&&(o="#"+o),o);})();
</script><link rel="stylesheet" href="https://static.figma.com/api/figma-extension-api-0.0.1.css"><style>body{font-family:-apple-system,sans-serif!important}.center{display:flex;flex-direction:row;justify-content:center}.leologo{display:block;width:60px}</style><div class="center" style="padding:20px"><img src="https://leonardocolor.io/Leonardo_Logo_sm.b48b194c.svg" class="leologo"/></div><p>Name:<br/><input style="width:100%;padding:4px" id="colorScheme" value="Purple" placeholder="Purple"/></p><p>Stops<br/><em>Please ensure same amount as Ratios in the URL</em><br/><input readonly="readonly" disabled="disabled" style="width:100%;padding:4px" id="colorStops" value="50, 75, 100, 200, 300, 400, 500, 600, 700, 800, 900" placeholder="50, 75, 100, 200, 300, 400, 500, 600, 700, 800, 900"/></p><p>Paste leonardocolor.io string: <textarea id="textbox" rows="9" style="width:100%;padding:4px" placeholder="leonardocolor.io/?..." value=""></textarea></p><p></p><p>(Optional) Set ColorSpace interpolation mode<br/><select id="mode" style="width:100%;padding:4px"><option value="NONE">-</option><option value="RGB">RGB</option><option value="CAM02">CIECAM02</option><option value="LCH">Lch</option><option value="LAB">Lab</option><option value="HSL">HSL</option><option value="HSLuv">HSLuv</option><option value="HSV">HSV</option></select></p><b id="errors"></b><div class="center"><p><button class="primary" id="btn-generate">Generate</button></p></div>