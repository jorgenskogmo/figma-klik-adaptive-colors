<script>(()=>{var c,s,l,a;document.addEventListener("DOMContentLoaded",e=>{console.log("DOMContentLoaded"),s=document.querySelector("#textbox"),l=document.querySelector("#mode"),c=document.querySelector("#btn-generate"),a=document.querySelector("#errors"),c.addEventListener("click",()=>{console.log("generate");let o=s.value,t=l.options[l.selectedIndex].value,n=d(o);t!=="NONE"&&(n.colorSpace=t),n.sourceString=o,parent.postMessage({pluginMessage:n},"*")})},{once:!0});var u=e=>{a.textContent=e},d=e=>{try{e=e.replace("https://leonardocolor.io/?",""),e=e[0]==="?"?e.substr(1):e}catch(t){u("Invalid input");return}let o=p(e);return o.inputRatios=o.ratios.split(","),o.colorStops=o.colorStops.split(","),o.colorKeys=o.colorKeys.split(","),o.base=i(o.base),o.baseColor=o.base,o.colorSpace=o.mode,console.log("$params:",o),o},p=e=>{let o={},t=e.split("&");for(let r=0;r<t.length;r++){var n=t[r].split("=");o[decodeURIComponent(n[0])]=decodeURIComponent(n[1]||"")}return o},i=e=>(e.startsWith("#")!==!0&&e.length===3&&(e="#"+e),e.startsWith("#")!==!0&&e.length===6&&(e="#"+e),e);})();
</script><link rel="stylesheet" href="https://static.figma.com/api/figma-extension-api-0.0.1.css"><style>body{font-family:-apple-system,sans-serif!important}.center{display:flex;flex-direction:row;justify-content:center}.leologo{display:block;width:100px}</style><div class="center"><img src="https://leonardocolor.io/Leonardo_Logo_sm.b48b194c.svg" class="leologo"/></div><p>Paste leonardocolor.io string: <input id="textbox" style="width:100%;padding:4px" placeholder="leonardocolor.io/?..." value="https://leonardocolor.io/?colorKeys=%234c2f92%2C%23000000&base=e2dded&ratios=-1.2%2C-1.12%2C1%2C1.24%2C1.52%2C1.92%2C3%2C4.64%2C6.96%2C8.8%2C11.52&mode=RGB&colorScheme=Purple&colorStops=50%2C75%2C100%2C200%2C300%2C400%2C500%2C600%2C700%2C800%2C900"></p><p>(Optional) Set ColorSpace interpolation mode<br/><select id="mode" style="width:100%;padding:4px"><option value="NONE">-</option><option value="RGB">RGB</option><option value="CAM02">CIECAM02</option><option value="LCH">Lch</option><option value="LAB">Lab</option><option value="HSL">HSL</option><option value="HSLuv">HSLuv</option><option value="HSV">HSV</option></select></p><b id="errors"></b><div class="center"><p><button class="primary" id="btn-generate">Generate</button></p></div>